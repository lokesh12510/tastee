{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-8f8068126bc53649f12f1f5e70cca601.js","src/js/helpers.js","src/js/config.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/bundle-url.js","node_modules/@parcel/runtime-js/lib/relative-path.js","node_modules/@parcel/runtime-js/lib/runtime-a195d95dc17ef338c000e5a68a7a43ff.js","src/js/view/view.js","src/js/view/recipeView.js","src/js/view/searchView.js","src/js/view/previewView.js","src/js/view/resultsView.js","src/js/view/paginationView.js","src/js/view/bookmarkView.js","src/js/view/addRecipeView.js","src/js/controller.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./bundle-manifest').register(JSON.parse(\"{\\\"6GFSM\\\":\\\"index.f9b0a313.js\\\",\\\"3ZXxf\\\":\\\"icons.7a226c28.svg\\\"}\"));","import { TIMEOUT_SECONDS } from './config';\r\n\r\nconst timeout = function (s) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(function () {\r\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\r\n    }, s * 1000);\r\n  });\r\n};\r\n\r\nexport const AJAX = async function (url, uploadData = undefined) {\r\n  try {\r\n    const fetchPro = uploadData\r\n      ? fetch(url, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(uploadData),\r\n        })\r\n      : fetch(url);\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SECONDS)]);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${data.status})`);\r\n\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\n// export const getJSON = async function (url) {\r\n//   try {\r\n//     const fetchPro = fetch(url);\r\n//     const res = await Promise.race([fetchPro, timeout(TIMEOUT_SECONDS)]);\r\n//     const data = await res.json();\r\n\r\n//     if (!res.ok) throw new Error(`${data.message} (${data.status})`);\r\n\r\n//     return data;\r\n//   } catch (err) {\r\n//     throw err;\r\n//   }\r\n// };\r\n\r\n// export const sendJSON = async function (url, uploadData) {\r\n//   try {\r\n//     const fetchPro = fetch(url, {\r\n//       method: 'POST',\r\n//       headers: {\r\n//         'Content-Type': 'application/json',\r\n//       },\r\n//       body: JSON.stringify(uploadData),\r\n//     });\r\n//     const res = await Promise.race([fetchPro, timeout(TIMEOUT_SECONDS)]);\r\n//     const data = await res.json();\r\n\r\n//     if (!res.ok) throw new Error(`${data.message} (${data.status})`);\r\n\r\n//     return data;\r\n//   } catch (err) {\r\n//     throw err;\r\n//   }\r\n// };\r\n","export const API_URL = 'https://forkify-api.herokuapp.com/api/v2/recipes/';\r\n\r\nexport const TIMEOUT_SECONDS = 10;\r\n\r\nexport const RES_PER_PAGE = 10;\r\n\r\nexport const KEY = '31a87251-9d72-4612-a004-67fa3a996bb3';\r\n\r\nexport const MODAL_CLOSE_SEC = 2.5;\r\n","import { API_URL, KEY, RES_PER_PAGE } from './config';\r\nimport { AJAX } from './helpers';\r\n\r\nexport const state = {\r\n  recipe: {},\r\n  search: {\r\n    query: '',\r\n    results: [],\r\n    resultsPerPage: RES_PER_PAGE,\r\n    page: 1,\r\n  },\r\n  bookmarks: [],\r\n};\r\n\r\nconst createRecipeObject = function (data) {\r\n  const { recipe } = data.data;\r\n\r\n  return {\r\n    id: recipe.id,\r\n    title: recipe.title,\r\n    publisher: recipe.publisher,\r\n    sourceUrl: recipe.source_url,\r\n    image: recipe.image_url,\r\n    servings: recipe.servings,\r\n    cookingTime: recipe.cooking_time,\r\n    ingredients: recipe.ingredients,\r\n    ...(recipe.key && { key: recipe.key }),\r\n  };\r\n};\r\n\r\nexport const loadRecipe = async function (id) {\r\n  try {\r\n    const data = await AJAX(`${API_URL}${id}?key=${KEY}`);\r\n    state.recipe = createRecipeObject(data);\r\n\r\n    if (state.bookmarks.some(bookmark => bookmark.id === id))\r\n      state.recipe.bookmarked = true;\r\n    else state.recipe.bookmarked = false;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const loadSearchResults = async function (query) {\r\n  try {\r\n    const data = await AJAX(`${API_URL}?search=${query}&key=${KEY}`);\r\n\r\n    state.search.query = query;\r\n\r\n    state.search.results = data.data.recipes.map(rec => {\r\n      return {\r\n        id: rec.id,\r\n        title: rec.title,\r\n        publisher: rec.publisher,\r\n        image: rec.image_url,\r\n        ...(rec.key && { key: rec.key }),\r\n      };\r\n    });\r\n\r\n    state.search.page = 1;\r\n  } catch (err) {\r\n    console.log(`${err}`);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const getSearchResultsPage = function (page = state.search.page) {\r\n  state.search.page = page;\r\n\r\n  const start = (page - 1) * state.search.resultsPerPage;\r\n  const end = page * state.search.resultsPerPage;\r\n\r\n  return state.search.results.slice(start, end);\r\n};\r\n\r\nexport const updateServings = function (newServings) {\r\n  state.recipe.ingredients.forEach(ing => {\r\n    ing.quantity = (ing.quantity * newServings) / state.recipe.servings;\r\n  });\r\n\r\n  state.recipe.servings = newServings;\r\n};\r\n\r\nconst persistBookmarks = function () {\r\n  localStorage.setItem('bookmarks', JSON.stringify(state.bookmarks));\r\n};\r\n\r\nexport const addBookmark = function (recipe) {\r\n  state.bookmarks.push(recipe);\r\n\r\n  if (recipe.id === state.recipe.id) state.recipe.bookmarked = true;\r\n\r\n  persistBookmarks();\r\n};\r\n\r\nexport const deleteBookmark = function (id) {\r\n  const index = state.bookmarks.findIndex(el => el.id === id);\r\n  state.bookmarks.splice(index, 1);\r\n\r\n  if (id === state.recipe.id) state.recipe.bookmarked = false;\r\n\r\n  persistBookmarks();\r\n};\r\n\r\nconst init = function () {\r\n  const storage = localStorage.getItem('bookmarks');\r\n  if (storage) state.bookmarks = JSON.parse(storage);\r\n};\r\ninit();\r\n\r\nexport const uploadRecipe = async function (newRecipe) {\r\n  try {\r\n    const ingredients = Object.entries(newRecipe)\r\n      .filter(entry => entry[0].startsWith('ingredient') && entry[1] !== '')\r\n      .map(ing => {\r\n        const ingArr = ing[1].split(',').map(el => el.trim());\r\n        const [quantity, unit, description] = ingArr;\r\n\r\n        if (ingArr.length !== 3) throw new Error('wrong format!');\r\n\r\n        return { quantity: quantity ? +quantity : null, unit, description };\r\n      });\r\n\r\n    const recipe = {\r\n      title: newRecipe.title,\r\n      source_url: newRecipe.sourceUrl,\r\n      image_url: newRecipe.image,\r\n      publisher: newRecipe.publisher,\r\n      cooking_time: +newRecipe.cookingTime,\r\n      servings: +newRecipe.servings,\r\n      ingredients,\r\n    };\r\n\r\n    const data = await AJAX(`${API_URL}?key=${KEY}`, recipe);\r\n    state.recipe = createRecipeObject(data);\r\n\r\n    addBookmark(state.recipe);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n","\"use strict\";\n\n/* globals document:readonly */\nvar bundleURL = null;\n\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  let matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\nvar resolve = require('./bundle-manifest').resolve;\n\nmodule.exports = function (fromId, toId) {\n  return relative(dirname(resolve(fromId)), resolve(toId));\n};\n\nfunction dirname(_filePath) {\n  if (_filePath === '') {\n    return '.';\n  }\n\n  var filePath = _filePath[_filePath.length - 1] === '/' ? _filePath.slice(0, _filePath.length - 1) : _filePath;\n  var slashIndex = filePath.lastIndexOf('/');\n  return slashIndex === -1 ? '.' : filePath.slice(0, slashIndex);\n}\n\nfunction relative(from, to) {\n  if (from === to) {\n    return '';\n  }\n\n  var fromParts = from.split('/');\n\n  if (fromParts[0] === '.') {\n    fromParts.shift();\n  }\n\n  var toParts = to.split('/');\n\n  if (toParts[0] === '.') {\n    toParts.shift();\n  } // Find where path segments diverge.\n\n\n  var i;\n  var divergeIndex;\n\n  for (i = 0; (i < toParts.length || i < fromParts.length) && divergeIndex == null; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      divergeIndex = i;\n    }\n  } // If there are segments from \"from\" beyond the point of divergence,\n  // return back up the path to that point using \"..\".\n\n\n  var parts = [];\n\n  for (i = 0; i < fromParts.length - divergeIndex; i++) {\n    parts.push('..');\n  } // If there are segments from \"to\" beyond the point of divergence,\n  // continue using the remaining segments.\n\n\n  if (toParts.length > divergeIndex) {\n    parts.push.apply(parts, toParts.slice(divergeIndex));\n  }\n\n  return parts.join('/');\n}\n\nmodule.exports._dirname = dirname;\nmodule.exports._relative = relative;","module.exports = require('./bundle-url').getBundleURL() + require('./relative-path')(\"6GFSM\", \"3ZXxf\")","import icons from 'url:../../img/icons.svg';\r\n\r\nexport default class View {\r\n  _data;\r\n  render(data, render = true) {\r\n    if (!data || (Array.isArray(data) && data.length === 0))\r\n      return this.renderError();\r\n\r\n    this._data = data;\r\n    const markup = this._generateMarkup();\r\n\r\n    if (!render) return markup;\r\n\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  _clear() {\r\n    this._parentElement.innerHTML = '';\r\n  }\r\n\r\n  update(data) {\r\n    // if (!data || (Array.isArray(data) && data.length === 0))\r\n    //   return this.renderError();\r\n\r\n    this._data = data;\r\n    const newMarkup = this._generateMarkup();\r\n\r\n    const newDOM = document.createRange().createContextualFragment(newMarkup);\r\n\r\n    const newElements = Array.from(newDOM.querySelectorAll('*'));\r\n\r\n    const curElements = Array.from(this._parentElement.querySelectorAll('*'));\r\n\r\n    newElements.forEach((newEl, i) => {\r\n      const curEl = curElements[i];\r\n      if (\r\n        !newEl.isEqualNode(curEl) &&\r\n        newEl.firstChild?.nodeValue.trim() !== ''\r\n      ) {\r\n        curEl.textContent = newEl.textContent;\r\n      }\r\n\r\n      if (!newEl.isEqualNode(curEl)) {\r\n        Array.from(newEl.attributes).forEach(attr => {\r\n          curEl.setAttribute(attr.name, attr.value);\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  renderSpinner() {\r\n    const markup = `\r\n        <div class=\"spinner\">\r\n            <svg>\r\n            <use href=\"${icons}#icon-loader\"></use>\r\n            </svg>\r\n        </div> \r\n        `;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderError(message = this._errorMessage) {\r\n    const markup = `\r\n        <div class=\"error\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${icons}#icon-alert-triangle\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderMessage(message = this._message) {\r\n    const markup = `\r\n      <div class=\"message\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${icons}#icon-smile\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n}\r\n","import icons from 'url:../../img/icons.svg';\r\nimport View from './view.js';\r\n\r\n// import { Fraction } from 'fractional';\r\nclass RecipeView extends View {\r\n  _parentElement = document.querySelector('.recipe');\r\n  _errorMessage = 'Error message';\r\n\r\n  addHandleRender(handler) {\r\n    ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, handler));\r\n  }\r\n\r\n  addHandleUpdateServings(handler) {\r\n    this._parentElement.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--update-servings');\r\n      if (!btn) return;\r\n      const { updateTo } = btn.dataset;\r\n      if (+updateTo) handler(+updateTo);\r\n    });\r\n  }\r\n\r\n  addHandleAddBookmark(handler) {\r\n    this._parentElement.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--bookmark');\r\n\r\n      if (!btn) return;\r\n      handler();\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return `\r\n      <figure class=\"recipe__fig\">\r\n      <img src=\"${this._data.image}\" alt=\"${\r\n      this._data.title\r\n    }\" class=\"recipe__img\" />\r\n      <h1 class=\"recipe__title\">\r\n        <span>${this._data.title}</span>\r\n      </h1>\r\n    </figure>\r\n\r\n    <div class=\"recipe__details\">\r\n      <div class=\"recipe__info\">\r\n        <svg class=\"recipe__info-icon\">\r\n          <use href=\"${icons}#icon-clock\"></use>\r\n        </svg>\r\n        <span class=\"recipe__info-data recipe__info-data--minutes\">${\r\n          this._data.cookingTime\r\n        }</span>\r\n        <span class=\"recipe__info-text\">minutes</span>\r\n      </div>\r\n      <div class=\"recipe__info\">\r\n        <svg class=\"recipe__info-icon\">\r\n          <use href=\"${icons}#icon-users\"></use>\r\n        </svg>\r\n        <span class=\"recipe__info-data recipe__info-data--people\">${\r\n          this._data.servings\r\n        }</span>\r\n        <span class=\"recipe__info-text\">servings</span>\r\n\r\n        <div class=\"recipe__info-buttons\">\r\n          <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${\r\n            this._data.servings - 1\r\n          }\">\r\n            <svg>\r\n              <use href=\"${icons}#icon-minus-circle\"></use>\r\n            </svg>\r\n          </button>\r\n          <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${\r\n            this._data.servings + 1\r\n          }\">\r\n            <svg>\r\n              <use href=\"${icons}#icon-plus-circle\"></use>\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"recipe__user-generated ${this._data.key ? '' : 'hidden'}\">\r\n        <svg>\r\n          <use href=\"${icons}#icon-user\"></use>\r\n        </svg>\r\n      </div>\r\n      <button class=\"btn--round btn--bookmark\">\r\n        <svg class=\"\">\r\n          <use href=\"${icons}#icon-bookmark${\r\n      this._data.bookmarked ? '-fill' : ''\r\n    }\"></use>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"recipe__ingredients\">\r\n      <h2 class=\"heading--2\">Recipe ingredients</h2>\r\n      <ul class=\"recipe__ingredient-list\">\r\n      ${this._data.ingredients.map(this._generateMarkupIngredient).join('')}\r\n\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"recipe__directions\">\r\n      <h2 class=\"heading--2\">How to cook it</h2>\r\n      <p class=\"recipe__directions-text\">\r\n        This recipe was carefully designed and tested by\r\n        <span class=\"recipe__publisher\">${\r\n          this._data.publisher\r\n        }</span>. Please check out\r\n        directions at their website.\r\n      </p>\r\n      <a\r\n        class=\"btn--small recipe__btn\"\r\n        href=\"${this._data.sourceUrl}\"\r\n        target=\"_blank\"\r\n      >\r\n        <span>Directions</span>\r\n        <svg class=\"search__icon\">\r\n          <use href=\"${icons}#icon-arrow-right\"></use>\r\n        </svg>\r\n      </a>\r\n    </div>\r\n  `;\r\n  }\r\n\r\n  _generateMarkupIngredient(ing) {\r\n    return `\r\n          <li class=\"recipe__ingredient\">\r\n            <svg class=\"recipe__icon\">\r\n              <use href=\"${icons}#icon-check\"></use>\r\n            </svg>\r\n            <div class=\"recipe__quantity\">${\r\n              ing.quantity ? ing.quantity : ''\r\n            }</div>\r\n            <div class=\"recipe__description\">\r\n              <span class=\"recipe__unit\">${ing.unit}</span>${ing.description}\r\n            </div>\r\n          </li>`;\r\n  }\r\n}\r\n\r\nexport default new RecipeView();\r\n","class SearchView {\r\n  _parentElement = document.querySelector('.search');\r\n\r\n  getQuery() {\r\n    const query = this._parentElement.querySelector('.search__field').value;\r\n    this._clearInput();\r\n    return query;\r\n  }\r\n\r\n  _clearInput() {\r\n    this._parentElement.querySelector('.search__field').value = '';\r\n  }\r\n\r\n  addHandleSearch(handler) {\r\n    this._parentElement.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n      handler();\r\n    });\r\n  }\r\n}\r\n\r\nexport default new SearchView();\r\n","import View from './view.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass PreviewView extends View {\r\n  _parentElement = '';\r\n\r\n  _generateMarkup() {\r\n    const id = window.location.hash.slice(1);\r\n\r\n    return `\r\n    <li class=\"preview\">\r\n        <a class=\"preview__link ${\r\n          this._data.id === id ? 'preview__link--active' : ''\r\n        }\" href=\"#${this._data.id}\">\r\n            <figure class=\"preview__fig\">\r\n            <img src=\"${this._data.image}\" alt=\"Test\" />\r\n            </figure>\r\n            <div class=\"preview__data\">\r\n            <h4 class=\"preview__title\">${this._data.title}</h4>\r\n            <p class=\"preview__publisher\">${this._data.publisher}</p>\r\n            <div class=\"preview__user-generated ${\r\n              this._data.key ? '' : 'hidden'\r\n            }\">\r\n                <svg>\r\n                <use href=\"${icons}#icon-user\"></use>\r\n                </svg>\r\n            </div>\r\n            </div>\r\n        </a>\r\n    </li>\r\n  `;\r\n  }\r\n}\r\n\r\nexport default new PreviewView();\r\n","import View from './view.js';\r\nimport previewView from './previewView.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass ResultsView extends View {\r\n  _parentElement = document.querySelector('.results');\r\n  _errorMessage = 'Not found';\r\n\r\n  _generateMarkup() {\r\n    return this._data.map(result => previewView.render(result, false)).join('');\r\n  }\r\n}\r\n\r\nexport default new ResultsView();\r\n","import View from './view.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass PaginationView extends View {\r\n  _parentElement = document.querySelector('.pagination');\r\n\r\n  addHandlerClick(handler) {\r\n    this._parentElement.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--inline');\r\n\r\n      if (!btn) return;\r\n\r\n      const goToPage = +btn.dataset.goto;\r\n      handler(goToPage);\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    const curPage = this._data.page;\r\n    const numPages = Math.ceil(\r\n      this._data.results.length / this._data.resultsPerPage\r\n    );\r\n    if (curPage === 1 && numPages > 1) {\r\n      return `\r\n        <button data-goto=\"${\r\n          curPage + 1\r\n        }\" class=\"btn--inline pagination__btn--next\">\r\n            <span>Page ${curPage + 1}</span>\r\n            <svg class=\"search__icon\">\r\n                <use href=\"${icons}#icon-arrow-right\"></use>\r\n            </svg>\r\n        </button>\r\n      `;\r\n    }\r\n\r\n    if (curPage === numPages && numPages > 1) {\r\n      return `\r\n        <button data-goto=\"${\r\n          curPage - 1\r\n        }\" class=\"btn--inline pagination__btn--prev\">\r\n            <svg class=\"search__icon\">\r\n                <use href=\"${icons}#icon-arrow-left\"></use>\r\n            </svg>\r\n            <span>Page ${curPage - 1}</span>\r\n        </button>\r\n      `;\r\n    }\r\n\r\n    if (curPage < numPages) {\r\n      return `\r\n        <button data-goto=\"${\r\n          curPage - 1\r\n        }\" class=\"btn--inline pagination__btn--prev\">\r\n            <svg class=\"search__icon\">\r\n                <use href=\"${icons}#icon-arrow-left\"></use>\r\n            </svg>\r\n            <span>Page ${curPage - 1}</span>\r\n        </button>\r\n        <button data-goto=\"${\r\n          curPage + 1\r\n        }\" class=\"btn--inline pagination__btn--next\">\r\n            <span>Page ${curPage + 1}</span>\r\n            <svg class=\"search__icon\">\r\n                <use href=\"${icons}#icon-arrow-right\"></use>\r\n            </svg>\r\n        </button>\r\n      `;\r\n    }\r\n\r\n    return '';\r\n  }\r\n}\r\n\r\nexport default new PaginationView();\r\n","import View from './view.js';\r\nimport previewView from './previewView.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass BookmarkView extends View {\r\n  _parentElement = document.querySelector('.bookmarks__list');\r\n  _errorMessage = 'No Bookmarks yet';\r\n\r\n  addHandlerRender(handler) {\r\n    window.addEventListener('load', handler);\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return this._data\r\n      .map(bookmark => previewView.render(bookmark, false))\r\n      .join('');\r\n  }\r\n}\r\n\r\nexport default new BookmarkView();\r\n","import View from './view.js';\r\nimport icons from 'url:../../img/icons.svg';\r\n\r\nclass AddRecipeView extends View {\r\n  _parentElement = document.querySelector('.upload');\r\n  _message = 'Successfully uploaded';\r\n\r\n  _window = document.querySelector('.add-recipe-window');\r\n  _overlay = document.querySelector('.overlay');\r\n  _btnOpen = document.querySelector('.nav__btn--add-recipe');\r\n  _btnClose = document.querySelector('.btn--close-modal');\r\n\r\n  constructor() {\r\n    super();\r\n    this._addHandlerShowWindow();\r\n    this._addHandlerHideWindow();\r\n  }\r\n\r\n  toggleWindow() {\r\n    this._overlay.classList.toggle('hidden');\r\n    this._window.classList.toggle('hidden');\r\n  }\r\n\r\n  _addHandlerShowWindow() {\r\n    this._btnOpen.addEventListener('click', this.toggleWindow.bind(this));\r\n  }\r\n\r\n  _addHandlerHideWindow() {\r\n    this._btnClose.addEventListener('click', this.toggleWindow.bind(this));\r\n    this._overlay.addEventListener('click', this.toggleWindow.bind(this));\r\n  }\r\n\r\n  addHandlerUpload(handler) {\r\n    this._parentElement.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n      const dataArr = [...new FormData(this)];\r\n      const data = Object.fromEntries(dataArr);\r\n      handler(data);\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {}\r\n}\r\n\r\nexport default new AddRecipeView();\r\n","// import icons from 'url:../img/icons.svg';\r\nimport * as model from './modal.js';\r\nimport { MODAL_CLOSE_SEC } from './config.js';\r\nimport recipeView from './view/recipeView.js';\r\nimport searchView from './view/searchView.js';\r\nimport resultsView from './view/resultsView.js';\r\nimport paginationView from './view/paginationView.js';\r\nimport bookmarksView from './view/bookmarkView.js';\r\nimport addRecipeView from './view/addRecipeView.js';\r\n\r\nconst recipeContainer = document.querySelector('.recipe');\r\n\r\n// if (module.hot) {\r\n//   module.hot.accept();\r\n// }\r\n\r\nconst controlRecipes = async function () {\r\n  try {\r\n    const id = window.location.hash.slice(1);\r\n\r\n    if (!id) return;\r\n\r\n    recipeView.renderSpinner();\r\n\r\n    resultsView.update(model.getSearchResultsPage());\r\n    bookmarksView.update(model.state.bookmarks);\r\n\r\n    await model.loadRecipe(id);\r\n\r\n    recipeView.render(model.state.recipe);\r\n  } catch (err) {\r\n    recipeView.renderError();\r\n  }\r\n};\r\n\r\nconst controlSearchResults = async function () {\r\n  try {\r\n    resultsView.renderSpinner();\r\n    const query = searchView.getQuery();\r\n\r\n    if (!query) return;\r\n\r\n    await model.loadSearchResults(query);\r\n\r\n    // resultsView.render(model.state.search.results);\r\n    resultsView.render(model.getSearchResultsPage());\r\n\r\n    paginationView.render(model.state.search);\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nconst controlPagination = function (goToPage) {\r\n  console.log(goToPage);\r\n  resultsView.render(model.getSearchResultsPage(goToPage));\r\n\r\n  paginationView.render(model.state.search);\r\n};\r\n\r\nconst controlServings = function (newServings) {\r\n  model.updateServings(newServings);\r\n  recipeView.update(model.state.recipe);\r\n};\r\n\r\nconst controlAddBookmark = function () {\r\n  if (!model.state.recipe.bookmarked) model.addBookmark(model.state.recipe);\r\n  else model.deleteBookmark(model.state.recipe.id);\r\n\r\n  recipeView.update(model.state.recipe);\r\n\r\n  bookmarksView.render(model.state.bookmarks);\r\n};\r\n\r\nconst controlBookmarks = function () {\r\n  bookmarksView.render(model.state.bookmarks);\r\n};\r\n\r\nconst controlAddRecipe = async function (newRecipe) {\r\n  try {\r\n    addRecipeView.renderSpinner();\r\n\r\n    await model.uploadRecipe(newRecipe);\r\n    console.log(model.state.recipe);\r\n\r\n    recipeView.render(model.state.recipe);\r\n\r\n    addRecipeView.renderMessage();\r\n\r\n    bookmarksView.render(model.state.bookmarks);\r\n\r\n    window.history.pushState(null, '', `#${model.state.recipe.id}`);\r\n\r\n    setTimeout(function () {\r\n      addRecipeView.toggleWindow();\r\n    }, MODAL_CLOSE_SEC * 1000);\r\n  } catch (err) {\r\n    console.error(err);\r\n    addRecipeView.renderError(err.message);\r\n  }\r\n};\r\n\r\nconst init = function () {\r\n  bookmarksView.addHandlerRender(controlBookmarks);\r\n  recipeView.addHandleRender(controlRecipes);\r\n  recipeView.addHandleUpdateServings(controlServings);\r\n  recipeView.addHandleAddBookmark(controlAddBookmark);\r\n  searchView.addHandleSearch(controlSearchResults);\r\n  paginationView.addHandlerClick(controlPagination);\r\n  addRecipeView.addHandlerUpload(controlAddRecipe);\r\n};\r\ninit();\r\n"],"names":["$7d806a7a603c235ec027b73d847f4d95$var$mapping","$7d806a7a603c235ec027b73d847f4d95$export$357eb1b4f03c1402","pairs","keys","Object","i","length","$7d806a7a603c235ec027b73d847f4d95$export$40339995e8a21591","id","resolved","Error","parcelRequire","register","JSON","parse","$37f17f2cfa7c1f359151dec56797b63a$export$440419e74e66489a","async","url","uploadData","fetchPro","fetch","method","headers","body","stringify","res","Promise","race","s","_","reject","setTimeout","data","json","ok","message","status","err","$371f1c7ba9c7b8f5b63efd35adeee2d2$export$c837a8b98c265ae3","recipe","search","query","results","resultsPerPage","page","bookmarks","$371f1c7ba9c7b8f5b63efd35adeee2d2$var$createRecipeObject","title","publisher","sourceUrl","source_url","image","image_url","servings","cookingTime","cooking_time","ingredients","key","$371f1c7ba9c7b8f5b63efd35adeee2d2$export$b85fdf26818ddd9","start","end","slice","$371f1c7ba9c7b8f5b63efd35adeee2d2$var$persistBookmarks","localStorage","setItem","$371f1c7ba9c7b8f5b63efd35adeee2d2$export$5ceec956fc53d8ba","push","bookmarked","storage","getItem","$371f1c7ba9c7b8f5b63efd35adeee2d2$var$init","$634f916bc30b7d6650877f3f4b6a8b3a$var$bundleURL","$634f916bc30b7d6650877f3f4b6a8b3a$var$getBaseURL","replace","$634f916bc30b7d6650877f3f4b6a8b3a$export$da289beea9c5b10d","matches","stack","match","$634f916bc30b7d6650877f3f4b6a8b3a$var$getBundleURL","resolve","$824bc590bf0a3702ac7bd27152cb0639$var$dirname","_filePath","filePath","slashIndex","lastIndexOf","$824bc590bf0a3702ac7bd27152cb0639$var$relative","from","to","fromParts","split","shift","divergeIndex","toParts","parts","apply","join","module","exports","fromId","toId","$824bc590bf0a3702ac7bd27152cb0639$require$resolve","_dirname","_relative","$1b9f3d100ad582b35c208345a499a2a8$exports","getBundleURL","_data","render","Array","isArray","this","renderError","markup","_generateMarkup","_clear","_parentElement","insertAdjacentHTML","innerHTML","update","newMarkup","newDOM","document","createRange","createContextualFragment","newElements","querySelectorAll","curElements","forEach","newEl","curEl","isEqualNode","firstChild","nodeValue","trim","textContent","attributes","attr","setAttribute","name","value","renderSpinner","$parcel$interopDefault","_errorMessage","renderMessage","_message","$9122a82347665266e8035173315c1678$export$9099ad97b570f7c","$281016f391d5889be7780bc26d6d5ada$export$9099ad97b570f7c","querySelector","addHandleRender","handler","ev","window","addEventListener","addHandleUpdateServings","e","btn","target","closest","updateTo","dataset","addHandleAddBookmark","map","_generateMarkupIngredient","ing","quantity","unit","description","$31706469787a4a1a06ec3f7aa3f93e34$export$9099ad97b570f7c","getQuery","_clearInput","addHandleSearch","preventDefault","$34aa701384d2a9b522bbab92e24f2590$export$9099ad97b570f7c","location","hash","$f1e78eaa8cd95de152bd611655bc882c$export$9099ad97b570f7c","result","$9aa0256e61c4196266222711085618c6$export$9099ad97b570f7c","addHandlerClick","goToPage","goto","curPage","numPages","Math","ceil","$5c69ed2698c11f98a2ef69bf2d4f4cd0$export$9099ad97b570f7c","addHandlerRender","bookmark","$2cb1e4f3499abbebeb421cdc5c6c566b$export$9099ad97b570f7c","_window","_overlay","_btnOpen","_btnClose","super","_addHandlerShowWindow","_addHandlerHideWindow","toggleWindow","classList","toggle","bind","addHandlerUpload","dataArr","FormData","fromEntries","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlRecipes","some","$371f1c7ba9c7b8f5b63efd35adeee2d2$export$e9bb34c12ee45abf","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlSearchResults","recipes","rec","console","log","$371f1c7ba9c7b8f5b63efd35adeee2d2$export$3ebf3dcac05c94a4","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlPagination","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlServings","newServings","$371f1c7ba9c7b8f5b63efd35adeee2d2$export$d0c24e46f61d4295","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlAddBookmark","index","findIndex","el","splice","$371f1c7ba9c7b8f5b63efd35adeee2d2$export$41cb8433136cb07d","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlBookmarks","$d13712820ca5e1f6986cbe8ea4cce0db$var$controlAddRecipe","newRecipe","entries","filter","entry","startsWith","ingArr","$371f1c7ba9c7b8f5b63efd35adeee2d2$export$56a8c91f2354a446","history","pushState","$cf3d800fb17fd2d1b0082d5ade4c0602$export$ffdbc260c45363d","error"],"version":3,"file":"index.f9b0a313.js.map"}